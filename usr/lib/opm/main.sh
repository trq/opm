opm.main() {
    case "${ACTION}" in
        sync)
            opm.sync
            ;;
        clean)
            opm.clean
            ;;
        fetch)
            opm.util.source_opm
            opm.fetch
            ;;
        unpack)
            opm.clean
            opm.util.source_opm
            opm.fetch
            opm.unpack
            ;;
        configure)
            opm.clean
            opm.util.source_opm
            opm.fetch
            opm.unpack
            opm.configure
            ;;
        compile)
            opm.clean
            opm.util.source_opm
            opm.fetch
            opm.unpack
            opm.configure
            opm.compile
            ;;
        install)
            opm.clean
            opm.util.source_opm
            opm.fetch
            opm.unpack
            opm.configure
            opm.compile
            opm.install
            ;;
        package)
            opm.clean
            opm.util.source_opm
            opm.fetch
            opm.unpack
            opm.configure
            opm.compile
            opm.install
            opm.package
            ;;
        merge)
            opm.clean
            opm.util.source_opm
            opm.fetch
            opm.unpack
            opm.configure
            opm.compile
            opm.install
            opm.package
            opm.merge
            ;;
        unmerge)
            opm.unmerge
            ;;
        *)
            die "Please specify unpack, configure, compile or all as the second arg"
            ;;
    esac
}
