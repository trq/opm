opm.main() {
    opm.util.source_opm
    shift
    while [ "${1}" != "" ]; do
        case "${1}" in
            sync)
                opm.sync
                ;;
            clean)
                opm.clean
                ;;
            purge)
                opm.purge
                ;;
            fetch)
                opm.fetch
                ;;
            unpack)
                opm.unpack
                ;;
            prepare)
                opm.prepare
                ;;
            configure)
                opm.configure
                ;;
            compile)
                opm.compile
                ;;
            install)
                opm.install
                ;;
            package)
                opm.package
                ;;
            merge)
                opm.merge
                ;;
            add)
                opm.virtual
                opm.clean
                opm.fetch
                opm.unpack
                opm.prepare
                opm.configure
                opm.compile
                opm.install
                opm.package
                opm.merge
                ;;
            unmerge)
                opm.unmerge
                ;;
            *)
                die "Please specify unpack, configure, compile or all as the second arg"
                ;;
        esac
        shift
    done
}
